<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Haruna</title>
  <link rel="icon" href="https://raw.githubusercontent.com/Deivu/Haruna/master/assets/favicon.ico">
</head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    html,
    body,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: "Roboto", sans-serif
    }
    .footer {
        overflow: hidden;
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        background-color: black;
        color: white;
        text-align: center;
    }
</style>

<script>
    window.onload = function() {
        var loc = window.location
        fetch(loc.pathname.length > 1 ? `${loc.pathname}/stats` : "stats")
            .then(function(res) {
                res.json()
                    .then(function(data) {
                        console.log("Current Stats", data);
                        document.getElementById("harunaver").innerHTML = "Version " + data.haruna_version;
                        document.getElementById("memoryusage").innerHTML = data.used_memory + " / " + data.maximum_allocatable;
                        // document.getElementById("currentuptime").innerHTML = ;
                        document.getElementById("votessaved").innerHTML = data.saved_data;
                        document.getElementById("requestsfromboot").innerHTML = data.api_requests_received;
                    })
                    .catch(console.error);
            })
            .catch(console.error);
        console.log("Kyaaah >3<, you are too lewd, looking in my console.");
    }
</script>

<body class="w3-light-grey">

<!-- Page Container -->
<div class="w3-content w3-margin-top" style="max-width:1400px;">

  <!-- The Grid -->
  <div class="w3-row-padding">

    <!-- Left Column -->
    <div class="w3-third">

      <div class="w3-white w3-text-black w3-card-4">
        <div class="w3-display-container">
          <img src="https://raw.githubusercontent.com/Deivu/Haruna/master/assets/profile.jpg" style="width:100%" alt="Avatar">
          <div class="w3-display-bottomleft w3-container w3-text-black">
          </div>
        </div>
        <div class="w3-container">
          <h2>Haruna</h2>
          <p id="harunaver">Version ...</p>
          <p><a href="https://github.com/Deivu/Haruna">Github Repository</a></p>
          <p><a href="https://top.gg/api/docs#webhooks">A Top.gg (Discord bot list) vote webhook server</a></p>
          <p>Developed by: <a href="https://github.com/Deivu">Saya</a></p>
        </div>
      </div>
      <br>
      <br>

      <!-- End Left Column -->
    </div>

    <!-- Right Column -->
    <div class="w3-twothird">
      <div class="w3-container w3-card w3-white w3-margin-bottom">
        <h2 class="w3-text-grey w3-padding-16"><i class="fa fa-asterisk fa-fw w3-margin-right w3-text-gray"></i>Haruna's Statistics</h2>
        <div class="w3-container">
          <p>Used Memory / Maximum Allocatable</p>
          <div class="w3-light-grey w3-round-xlarge w3-small">
            <div class="w3-container w3-center w3-round-xlarge w3-black" style="width:100%">
              <p id="memoryusage">Loading ...</p>
            </div>
          </div>
          <hr>
        </div>
        <div class="w3-container">
          <p>Vote(s) Currently Saved</p>
          <div class="w3-light-grey w3-round-xlarge w3-small">
            <div class="w3-container w3-center w3-round-xlarge w3-black" style="width:100%">
              <p id="votessaved">Loading ...</p>
            </div>
          </div>
          <hr>
        </div>
        <div class="w3-container">
          <p>API Request(s) since boot</p>
          <div class="w3-light-grey w3-round-xlarge w3-small">
            <div class="w3-container w3-center w3-round-xlarge w3-black" style="width:100%">
              <p id="requestsfromboot">Loading ...</p>
            </div>
          </div>
          <hr>
        </div>
        <div class="w3-container">
          <p>Uptime</p>
          <div class="w3-light-grey w3-round-xlarge w3-small">
            <div class="w3-container w3-center w3-round-xlarge w3-black" style="width:100%">
              <p id="currentuptime">Loading ...</p>
            </div>
          </div>
          <hr>
        </div>
        <!-- End Right Column -->
      </div>

      <!-- End Grid -->
    </div>

    <!-- End Page Container -->
  </div>

  <footer class="footer">
    <p>The Shipgirl Project, &copy; Kancolle for Haruna</p>
    <p>Used by: <a href="https://top.gg/bot/kashima-is-a-good-girl">Kashima</a>, and many more!</p>
  </footer>
</div>
</body>

</html>